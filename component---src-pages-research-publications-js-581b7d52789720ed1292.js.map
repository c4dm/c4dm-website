{"version":3,"file":"component---src-pages-research-publications-js-581b7d52789720ed1292.js","mappings":"+HAaA,IAV4BA,IAAiD,IAAhD,KAACC,EAAI,gBAACC,EAAe,UAACC,EAAS,UAACC,GAAUJ,EACnE,OACEK,EAAAA,cAAA,OAAKD,UAAS,gCAAkCF,EAAe,IAAIE,GACjEC,EAAAA,cAAA,MAAID,UAAS,uGAAyGD,GACnHF,GAEC,C,qCC+BZ,IAtCmBK,IACf,MAAMC,EAASC,OAAOC,KAAKH,GAAOC,OAClC,OACEF,EAAAA,cAAA,OAAKD,UAAU,2BACbC,EAAAA,cAAA,OACED,UAAS,sBACPG,EAAS,EAAI,eAAiB,WAAU,mBAG1CF,EAAAA,cAAA,OAAKD,UAAU,SACbC,EAAAA,cAAA,OAAKD,UAAU,iBAAiBE,EAAMI,SAGzCH,EAAS,EACRF,EAAAA,cAAA,OACED,UAAS,wBACPG,EAAS,EAAI,eAAiB,kBAAgB,mBAGhDF,EAAAA,cAAA,OAAKD,UAAU,SACbC,EAAAA,cAAA,OAAKD,UAAU,iBAAiBE,EAAMK,eAGxCC,EACHL,EAAS,EACRF,EAAAA,cAAA,OAAKD,UAAU,sDACbC,EAAAA,cAAA,OAAKD,UAAU,SACXC,EAAAA,cAAA,OAAKD,UAAU,iBACVE,EAAMO,cAIfD,EACA,C,qCCzBZ,MAAME,EAAaA,CAACC,EAAOC,IAAWD,EAAMC,QAAQC,IAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAMN,KAAgC,QAAhBE,EAAAD,EAAKM,mBAAW,IAAAL,GAAM,QAANC,EAAhBD,EAAkBM,YAAI,IAAAL,OAAN,EAAhBA,EAAwBM,SAAST,MAA2B,QAApBI,EAAIH,EAAKM,mBAAW,IAAAH,GAAM,QAANC,EAAhBD,EAAkBM,YAAI,IAAAL,OAAN,EAAhBA,EAAwBI,SAAST,MAAoB,QAAbM,EAAIL,EAAKU,YAAI,IAAAL,OAAA,EAATA,EAAWG,SAAST,IAAQ,IAyClM,IAtCoBhB,IAA4B,IAA3B,KAACwB,EAAI,MAACT,EAAK,SAACa,GAAS5B,EACtC,MAAM,EAAC6B,EAAS,EAACC,IAAeC,EAAAA,EAAAA,WAAS,GAEnCC,GAAaC,EAAAA,EAAAA,UAAQ,IAAMnB,EAAWC,EAAMc,IAAW,CAACd,EAAMc,IAIpE,OAFAK,EAAAA,EAAAA,YAAU,KAAON,EAASI,EAAW,GAAG,CAACH,EAASf,EAAWkB,IAGzD3B,EAAAA,cAAA,WACAA,EAAAA,cAAA,OAAKD,UAAU,qBACVoB,EAAKW,MAAMC,KAAKC,GAEbhC,EAAAA,cAAA,UACID,UAAU,iBACVkC,IAAKD,EAAIE,WACTC,QAASA,IAAMV,EAAYO,EAAIE,YAC/BE,SAAUZ,IAAaQ,EAAIE,YAIIF,EAAIE,WA5BhDG,MAAM,KACNN,KAAIO,GAAQA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,KACtDC,KAAK,KA2BC,KAAGV,EAAIW,WAAW,OAKnB3C,EAAAA,cAAA,UACID,UAAU,SACVoC,QAASA,IAAMV,GAAY,GAC3BW,UAAWZ,GACd,mBAIC,C,wGCyEd,UA1FqB7B,IAAsB,IAArB,YAAEiD,GAAajD,EACnC,MACEkD,YAAY,OAAEC,IACZF,EACEG,GAAOC,EAAAA,EAAAA,gBAAe,cA4BtB,EAACC,EAAc,EAACC,IAAoBxB,EAAAA,EAAAA,UAASqB,EAAKI,KAAKzC,OAEvD0C,GAAmBC,EAAAA,EAAAA,cACtB3C,IACCwC,EAAiBxC,EAAM,GAEzB,CAACwC,IAGGI,EAAc,IACfP,EAAKQ,MACRzB,OAAO0B,EAAAA,EAAAA,GAAIT,EAAKQ,MAAMzB,OAAO2B,MAAK,CAACC,EAAGC,IAAMA,EAAEzB,WAAawB,EAAExB,cAG/D,OACElC,EAAAA,cAAC4D,EAAAA,EAAM,CAACC,KAAK,eAAef,OAAQA,GAClC9C,EAAAA,cAAA,WAASD,UAAU,WACjBC,EAAAA,cAAC8D,EAAAA,EAAmB,CAClBlE,KAAK,eACLC,gBAAgB,UAChBC,UAAU,QACVC,UAAU,SAGZC,EAAAA,cAAA,OACED,UAAU,UACVgE,wBAAyB,CAAEC,OAAQjB,EAAKkB,MAAMC,QAGhDlE,EAAAA,cAAA,OAAKD,UAAU,iBAGfC,EAAAA,cAACmE,EAAAA,EAAW,CACVhD,KAAMmC,EACN5C,MAAOqC,EAAKI,KAAKzC,MACjBa,SAAU6B,IAIXH,EAAclB,KAAKqC,IAClBpE,SAAAA,cAAA,OAAKD,UAAU,sCAAsCkC,IAAKmC,EAAIC,OAC5DrE,EAAAA,cAACsE,EAAAA,EAAS,CACRjE,OA7FOgE,EA8FLD,EAAIC,MA9FQE,EA+FZH,EAAIG,OA/FgBC,EAgGpBJ,EAAIK,SAAWL,EAAIM,WAAaN,EAAIO,WAhGRrD,EAiG5B8C,EAAI9C,KAjG8BsD,EAkGlCR,EAAIQ,IAlGmCC,EAmGvCT,EAAIS,IAlGlB7E,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAQD,UAAU,QAAQsE,GAAS,OAAO,KAC1CrE,EAAAA,cAAA,KAAGD,UAAU,QAAQwE,EAAO,KAC5BvE,EAAAA,cAAA,UACGwE,EAAO,KAAGlD,GAEZsD,EACC5E,EAAAA,cAAA,SAAG,QACIA,EAAAA,cAAA,KAAG8E,KAAI,mBAAqBF,EAAOG,OAAO,SAASC,IAAI,uBAAuBJ,IAEnFC,EACF7E,EAAAA,cAAA,SAAG,QACIA,EAAAA,cAAA,KAAG8E,KAAMD,EAAKE,OAAO,SAASC,IAAI,uBAAuBH,IAE9D,UAfYI,IAACZ,EAAOE,EAAQC,EAAQlD,EAAMsD,EAAKC,CAuG9C,KAEI,C","sources":["webpack://c4dm-website/./src/components/parallelogramHeader.js","webpack://c4dm-website/./src/components/tableCard.js","webpack://c4dm-website/./src/components/tagSelector.js","webpack://c4dm-website/./src/pages/research/publications.js"],"sourcesContent":["import React from \"react\";\n\n\nconst ParallelogramHeader = ({text,backgroundColor,textColor,className}) => {\n    return (\n      <div className={`parallelogram has-background-${backgroundColor} ${className}`}>\n        <h1 className={`is-size-2-desktop is-size-3-tablet is-size-4-mobile has-text-centered has-text-weight-bold has-text-${textColor}`}>\n          {text}\n        </h1>\n      </div>\n    );\n}\n\nexport default ParallelogramHeader;","import React from \"react\";\n\nconst TableCard = (props) => {\n    const length = Object.keys(props).length;\n    return (\n      <div className=\"card table-card columns\">\n        <div\n          className={`card-image column ${\n            length > 1 ? \"is-2-desktop\" : \"is-full\" //is 2 6ths\n          } is-full-mobile`}\n        >\n          <div className=\"media\">\n            <div className=\"media-content\">{props.first}</div>\n          </div>\n        </div>\n        {length > 1 ? (\n          <div\n            className={`card-content column ${\n              length > 2 ? \"is-one-fifth\" : \"is-four-fifths\"\n            } is-full-mobile`}\n          >\n            <div className=\"media\">\n              <div className=\"media-content\">{props.second}</div>\n            </div>\n          </div>\n        ) : undefined}\n        {length > 2 ? (\n          <div className=\"card-content column is-three-fifths is-full-mobile\">\n            <div className=\"media\">\n                <div className=\"media-content\">\n                    {props.third}\n                </div>\n            </div>\n          </div>\n        ) : undefined}\n      </div>\n    );\n\n}\n\nexport default TableCard;","import React, { useEffect, useMemo, useState } from \"react\";\n\n// Custom function to apply title case without affecting existing uppercase letters\nfunction titleCaseWithoutAffectingUppercase(str) {\n    return str\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  }\n\nconst filterData = (nodes, filter) => nodes.filter((node) => !filter ? true : node.frontmatter?.tags?.includes(filter) || node.frontmatter?.role?.includes(filter) || node.year?.includes(filter));\n\n\nconst TagSelector = ({tags,nodes,callback}) => {\n    const [selected, setSelected] = useState(false);\n\n    const memoFilter = useMemo(() => filterData(nodes,selected), [nodes,selected])\n\n    useEffect(() => {callback(memoFilter)}, [selected,filterData,memoFilter])\n\n    return (\n        <div>\n        <div className=\"buttons are-small\">\n            {tags.group.map((tag) => (\n            // If selected=='tag', then grey it out\n                <button\n                    className=\"button is-grey\"\n                    key={tag.fieldValue}\n                    onClick={() => setSelected(tag.fieldValue)}\n                    disabled={selected === tag.fieldValue}\n                >\n            {\n                // Apply titleCaseWithoutAffectingUppercase to all pages\n                titleCaseWithoutAffectingUppercase(tag.fieldValue)\n            } ({tag.totalCount})\n            </button>\n            ))}\n\n            {/* // If selected==False, then grey this out */}\n            <button \n                className=\"button\" \n                onClick={() => setSelected(false)}\n                disabled={!selected}\n            >\n                Clear Tags (x)\n            </button>\n        </div>\n        </div>\n    );\n};\n\nexport default TagSelector;\n\n// data - the data from a graphql query\n// filterTemplate â€“ the slug for the filtered template page\n// root - the slug for the unfiltered page (accessed when we clear it)","import \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport React, { useCallback, useState } from \"react\";\nimport Layout from \"../../components/layout\";\nimport ParallelogramHeader from \"../../components/parallelogramHeader\";\nimport TableCard from \"../../components/tableCard\";\nimport TagSelector from \"../../components/tagSelector\";\nimport \"../../style/bulmacustom.scss\";\n\n// Return structured content for table card\n// Display DOI if available, otherwise display URL, otherwise none\nconst firstColumn = (title, author, medium, year, doi, url) => (\n  <>\n    <strong className=\"is-6\">{title || \"Name\"} </strong>\n    <p className=\"is-3\">{author} </p>\n    <em>\n      {medium}, {year}\n    </em>\n    {doi ? (\n      <p>\n        DOI: <a href={`https://doi.org/${doi}`} target=\"_blank\" rel=\"noopener noreferrer\">{doi}</a>\n      </p>\n    ) : url ? (\n      <p>\n        URL: <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n      </p>\n    ) : null}\n  </>\n);\n\nconst Publications = ({ pageContext }) => {\n  const {\n    breadcrumb: { crumbs },\n  } = pageContext;\n  const data = useStaticQuery(graphql`\n    query {\n      pubs: allReference(limit: 2000, sort: { year: DESC }) {\n        nodes {\n          title\n          author\n          journal\n          booktitle\n          year\n          doi\n          url\n        }\n      }\n      years: allReference(limit: 2000) {\n        group(field: { year: SELECT }) {\n          fieldValue\n          totalCount\n        }\n      }\n      about: markdownRemark(\n        fields: { category: { eq: \"about\" } }\n        fileAbsolutePath: { regex: \"/publications.md/\" }\n      ) {\n        html\n      }\n    }\n  `);\n\n  const [filteredNodes, setFilteredNodes] = useState(data.pubs.nodes);\n\n  const getFilteredNodes = useCallback(\n    (nodes) => {\n      setFilteredNodes(nodes);\n    },\n    [setFilteredNodes]\n  );\n\n  const sortedYears = {\n    ...data.years,\n    group: [...data.years.group].sort((a, b) => b.fieldValue - a.fieldValue)\n  };\n\n  return (\n    <Layout name=\"Publications\" crumbs={crumbs}>\n      <section className=\"section\">\n        <ParallelogramHeader\n          text=\"Publications\"\n          backgroundColor=\"primary\"\n          textColor=\"white\"\n          className=\"mb-6\"\n        />\n\n        <div\n          className=\"content\"\n          dangerouslySetInnerHTML={{ __html: data.about.html }}\n        ></div>\n        \n        <div className=\"lowerPadding\"></div>\n\n\n        <TagSelector\n          tags={sortedYears}\n          nodes={data.pubs.nodes}\n          callback={getFilteredNodes}\n        />\n\n\n        {filteredNodes.map((pub) => (\n          <div className=\"card-image row is-three-fifths pt-3\" key={pub.title}>\n            <TableCard\n              first={firstColumn(\n                pub.title,\n                pub.author,\n                pub.journal || pub.booktitle || pub.conference,\n                pub.year,\n                pub.doi,\n                pub.url\n              )}\n            />\n          </div>\n        ))}\n      </section>\n    </Layout>\n  );\n};\n\nexport default Publications;\n"],"names":["_ref","text","backgroundColor","textColor","className","React","props","length","Object","keys","first","second","undefined","third","filterData","nodes","filter","node","_node$frontmatter","_node$frontmatter$tag","_node$frontmatter2","_node$frontmatter2$ro","_node$year","frontmatter","tags","includes","role","year","callback","selected","setSelected","useState","memoFilter","useMemo","useEffect","group","map","tag","key","fieldValue","onClick","disabled","split","word","charAt","toUpperCase","slice","join","totalCount","pageContext","breadcrumb","crumbs","data","useStaticQuery","filteredNodes","setFilteredNodes","pubs","getFilteredNodes","useCallback","sortedYears","years","_toConsumableArray","sort","a","b","Layout","name","ParallelogramHeader","dangerouslySetInnerHTML","__html","about","html","TagSelector","pub","title","TableCard","author","medium","journal","booktitle","conference","doi","url","href","target","rel","firstColumn"],"sourceRoot":""}